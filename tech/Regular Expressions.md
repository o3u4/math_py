# Regular Expressions

## 语法

### 1. 基本匹配
- **文本字符**：普通字符作为直接匹配。例如，`regex` 会匹配 **"This is a regex test"** 中的 **"regex"**。

### 2. 特殊字符
- **点 `.`**：匹配任何单个字符（除了换行符）。例如，`a.b` 可以匹配 **"a2b"** 中的 **"a2b"**。
- **反斜杠 `\`**：转义字符，用来匹配特殊字符。例如，`a\.b` 会匹配 **"a.b"** 而不是 `"acb"`。

### 3. 字符类
- **方括号 `[ ]`**：匹配方括号内的任意一个字符。例如，`[abc]` 会匹配 **"apple"** 中的` 'a'`。
- **脱字符 `^`**（在方括号中使用）：匹配不在方括号中的任意字符。例如，`[^abc]` 不会匹配 "abc" 中的任何字符，但会匹配 **"xyz"** 中的所有字符。

### 4. 重复次数
- **星号 `*`**：匹配前面的元素零次或多次。例如，`ab*c` 匹配 **"ac", "abc", "abbc"** 等。
- **加号 `+`**：匹配前面的元素一次或多次。例如，`ab+c` 匹配 **"abc" 和 "abbc"**，但不匹配 **"ac"**。
- **问号 `?`**：匹配前面的元素零次或一次。例如，`ab?c` 匹配 **"ac"** 和 **"abc"**。

### 5. 定位符
- **脱字符 `^`**（在方括号外使用）：匹配行的开始。例如，`^abc` 匹配以 **"abc"** 开始的任何行。
- **美元符号 `$`**：匹配行的结束。例如，`abc$` 匹配以 **"abc"** 结尾的任何行。

### 6. 分组和引用
- **圆括号 `( )`**：创建捕获组，可以通过 `\数字` 引用。例如，`(ab)c\1` 匹配 **"abcab"**。

### 7. 或操作
- **竖线 `|`**：匹配左边或右边的表达式。例如，`abc|def` 可以匹配 **"abc"** 或 **"def"**。

### 示例
假设你有一个字符串 **"This is a test with test123 and testxyz"**，你可以使用以下正则表达式来进行不同的匹配操作：

- **简单匹配**：
  - `test`：将匹配所有的 **"test"**。
- **使用特殊字符**：
  - `t.st`：将匹配 **"test"** 和 **"tast"**，但不会匹配 **"tst"**。
- **字符类**：
  - `test[0-9]`：将匹配 **"test1", "test2", ..., "test9"**。
- **重复次数**：
  - `test\d*`：将匹配 **"test", "test1", "test12", "test123"** 等。
- **定位符**：
  - `^This`：将匹配行开始处的 **"This"**。
  - `xyz$`：将匹配行结束处的 **"xyz"**。

---

## Python-re

### 1. 常用的 `re` 模块函数

- **`re.match(pattern, string, flags=0)`**：
  - 从字符串的起始位置匹配一个模式，如果不是起始位置匹配成功的话，`match()`就返回`none`。
  
- **`re.search(pattern, string, flags=0)`**：
  - 扫描整个字符串并返回第一个成功的匹配。
  
- **`re.findall(pattern, string, flags=0)`**：
  - 找到字符串中所有非重叠匹配的模式，返回字符串列表。
  
- **`re.finditer(pattern, string, flags=0)`**：
  - 与 findall 类似，但返回的是一个迭代器，对于每个匹配，迭代器返回一个 `match` 对象。
  
- **`re.sub(pattern, repl, string, count=0, flags=0)`**：
  - 替换字符串中的匹配项，可以指定替换的次数。

- **`re.subn(pattern, repl, string, count=0, flags=0)`**：
  - 类似于 sub，但返回一个元组 (新字符串, 替换次数)。

- **`re.split(pattern, string, maxsplit=0, flags=0)`**：
  - 根据模式的匹配项来分割字符串，可以指定最大分割数。

### 2. 编译正则表达式

- **`re.compile(pattern, flags=0)`**：
  - 编译一个正则表达式模式，返回一个模式的对象。这个对象有匹配、搜索、替换和分割字符串的方法。预编译可以在多次使用正则表达式时提高效率。

### 3. 标志（Flags）

`re` 模块还支持多种标志，这些标志可以修改正则表达式的行为：
- **`re.IGNORECASE` (或 `re.I`)**：使匹配对大小写不敏感。
- **`re.MULTILINE` (或 `re.M`)**：多行模式，影响 `^` 和 `$` 的行为。
- **`re.DOTALL` (或 `re.S`)**：使 `.` 匹配包括换行在内的所有字符。
- **`re.VERBOSE` (或 `re.X`)**：允许你通过反斜杠转义空白字符，并在正则表达式中加入注释。
